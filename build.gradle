apply plugin: 'kotlin'
apply plugin: 'java-library'
apply plugin: 'application'

buildscript {
  repositories {
    mavenLocal()
    mavenCentral()
    gradlePluginPortal()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
  }
}

version = "1.10.0.7-SNAPSHOT"
mainClassName = 'gdx.liftoff.MainKt'
sourceCompatibility = JavaVersion.VERSION_1_8

jar {
  manifest {
    attributes 'Main-Class': mainClassName
  }
  duplicatesStrategy(DuplicatesStrategy.EXCLUDE)
  from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
  exclude('META-INF/INDEX.LIST', 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA')
  dependencies {
    exclude('META-INF/INDEX.LIST', 'META-INF/maven/**')
  }
  doLast {
    file(archiveFile).setExecutable(true, false)
  }
}

repositories {
  mavenCentral()
  maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
  maven { url "https://s01.oss.sonatype.org/content/repositories/snapshots/" }
  gradlePluginPortal()
  maven { url 'https://jitpack.io' }
}

dependencies {
  api "org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion"
  api "org.apache.commons:commons-exec:$commonsExecVersion"
  api "com.badlogicgames.gdx:gdx:$gdxVersion"
  api "com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion"
  api "com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop"
  api "com.kotcrab.vis:vis-ui:1.5.0"
  api "org.lwjgl:lwjgl-nfd:3.2.3"
  api "org.lwjgl:lwjgl-nfd:3.2.3:natives-windows"
  api "org.lwjgl:lwjgl-nfd:3.2.3:natives-windows-x86"
  api "org.lwjgl:lwjgl-nfd:3.2.3:natives-linux"
  api "org.lwjgl:lwjgl-nfd:3.2.3:natives-macos"
  api "khttp:khttp:1.0.0"
  api "com.github.devcsrj:mvnrepository-api-client:1.1.1"
  api "org.slf4j:slf4j-nop:1.7.32"
  api "com.crashinvaders.lml:gdx-kiwi:$lmlVersion"
  api "com.crashinvaders.lml:gdx-lml:$lmlVersion"
  api "com.crashinvaders.lml:gdx-lml-vis:$lmlVersion"
  api "com.crashinvaders.lml:gdx-autumn:$lmlVersion"
  api "com.crashinvaders.lml:gdx-autumn-fcs:$lmlVersion"
  api "com.crashinvaders.lml:gdx-autumn-mvc:$lmlVersion"
}
